<!DOCTYPE html>
<html>
<head>
    <title>Astrological Chart</title>
    <style>
        body {
            margin: 0;
            background-color: #f8f8f8; /* Light background color */
        }
        canvas {
            display: block;
            margin: 50px auto;
            border: 1px solid black;
            background-color: #f0f0f0; /* Slightly darker canvas background */
        }
    </style>
</head>
<body>

<canvas id="astroChart" width="700" height="700"></canvas>

<script>
    const canvas = document.getElementById('astroChart');
    const ctx = canvas.getContext('2d');
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const outerRadius = 300; // Radius of the zodiac circle
    const innerRadius = 250; // Create an inner circle for spacing
    const planetRadius = 5;

    // Astrological data
    const data = [
        {
            "0": {
                "name": "Ascendant",
                "fullDegree": 118.56449107988223,
                "normDegree": 28.56449107988223,
                "isRetro": "false",
                "current_sign": 4
            },
            "1": {
                "name": "Sun",
                "fullDegree": 350.1229578477906,
                "normDegree": 20.122957847790587,
                "isRetro": "false",
                "current_sign": 12
            },
            "2": {
                "name": "Moon",
                "fullDegree": 81.55217737000706,
                "normDegree": 21.55217737000706,
                "isRetro": "false",
                "current_sign": 3
            },
            "3": {
                "name": "Mars",
                "fullDegree": 359.3294354040992,
                "normDegree": 29.329435404099172,
                "isRetro": "false",
                "current_sign": 12
            },
            "4": {
                "name": "Mercury",
                "fullDegree": 354.9062337475901,
                "normDegree": 24.90623374759008,
                "isRetro": "true",
                "current_sign": 12
            },
            "5": {
                "name": "Jupiter",
                "fullDegree": 320.0397951421004,
                "normDegree": 20.039795142100388,
                "isRetro": "false",
                "current_sign": 11
            },
            "6": {
                "name": "Venus",
                "fullDegree": 303.78653289265327,
                "normDegree": 3.7865328926532698,
                "isRetro": "false",
                "current_sign": 11
            },
            "7": {
                "name": "Saturn",
                "fullDegree": 358.2970315611809,
                "normDegree": 28.297031561180916,
                "isRetro": "false",
                "current_sign": 12
            },
            "8": {
                "name": "Rahu",
                "fullDegree": 134.97785411172913,
                "normDegree": 14.97785411172913,
                "isRetro": "true",
                "current_sign": 5
            },
            "9": {
                "name": "Ketu",
                "fullDegree": 314.97785411172913,
                "normDegree": 14.97785411172913,
                "isRetro": "true",
                "current_sign": 11
            },
            "10": {
                "name": "Uranus",
                "fullDegree": 288.14697261815314,
                "normDegree": 18.146972618153143,
                "isRetro": "false",
                "current_sign": 10
            },
            "11": {
                "name": "Neptune",
                "fullDegree": 278.07575783359636,
                "normDegree": 8.075757833596356,
                "isRetro": "false",
                "current_sign": 10
            },
            "12": {
                "name": "Pluto",
                "fullDegree": 224.05839328860677,
                "normDegree": 14.058393288606766,
                "isRetro": "true",
                "current_sign": 8
            }
        }
    ];

    // Astrological glyphs (Unicode)
    const glyphs = {
        "Ascendant": "Asc",
        "Sun": "\u2609",
        "Moon": "\u263D",
        "Mars": "\u2642",
        "Mercury": "\u263F",
        "Jupiter": "\u2643",
        "Venus": "\u2640",
        "Saturn": "\u2644",
        "Rahu": "\u260A",
        "Ketu": "\u260B",
        "Uranus": "\u2645",
        "Neptune": "\u2646",
        "Pluto": "\u2647"
    };

    const signGlyphs = {
        1: "\u2648", // Aries
        2: "\u2649", // Taurus
        3: "\u264A", // Gemini
        4: "\u264B", // Cancer
        5: "\u264C", // Leo
        6: "\u264D", // Virgo
        7: "\u264E", // Libra
        8: "\u264F", // Scorpio
        9: "\u2650", // Sagittarius
        10: "\u2651", // Capricorn
        11: "\u2652", // Aquarius
        12: "\u2653"  // Pisces
    };

    // Traditional planet colors
    const planetColors = {
        "Sun": "#FFA500",       // Orange
        "Moon": "#C0C0C0",      // Silver
        "Mercury": "#FFFF99",    // Light Yellow
        "Venus": "#FFCC99",      // Light Orange
        "Mars": "#FF0000",      // Red
        "Jupiter": "#FF9933",    // Dark Orange
        "Saturn": "#CC9966",     // Brown
        "Uranus": "#66CCFF",     // Light Blue
        "Neptune": "#3333CC",    // Dark Blue
        "Pluto": "#990000",     // Dark Red
        "Rahu": "#808080",      // Gray (North Node)
        "Ketu": "#808080",      // Gray (South Node)
        "Ascendant": "black"
    };

    // Function to draw a planet
    function drawPlanet(angle, isRetro, name) {
        const x = centerX + innerRadius * Math.cos(angle);
        const y = centerY + innerRadius * Math.sin(angle);

        ctx.beginPath();
        ctx.arc(x, y, planetRadius, 0, 2 * Math.PI); // Draw planet as a circle

        if (isRetro) {
            ctx.fillStyle = 'red'; // Retrograde planets in red
            ctx.fill();
            ctx.strokeStyle = 'red';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.arc(x, y, planetRadius + 3, 0, 2 * Math.PI); // Inner circle for retrograde
            ctx.stroke();
        } else {
            ctx.fillStyle = planetColors[name] || 'blue'; // Use traditional color or default to blue
            ctx.fill();
        }

        // Add label or glyph
        ctx.fillStyle = 'black';
        ctx.font = '14px Arial';
        ctx.textAlign = 'center';
        ctx.fillText(glyphs[name] || name, x, y - 10);
    }

    // Draw the outer zodiac circle
    ctx.beginPath();
    ctx.arc(centerX, centerY, outerRadius, 0, 2 * Math.PI);
    ctx.strokeStyle = 'black';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Draw the inner circle
    ctx.beginPath();
    ctx.arc(centerX, centerY, innerRadius, 0, 2 * Math.PI);
    ctx.strokeStyle = 'black';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Draw zodiac sign divisions
    for (let i = 0; i < 12; i++) {
        const angle = i * Math.PI / 6; // 30 degrees in radians
        const x1 = centerX + outerRadius * Math.cos(angle);
        const y1 = centerY + outerRadius * Math.sin(angle);
        const x2 = centerX + innerRadius * Math.cos(angle);
        const y2 = centerY + innerRadius * Math.sin(angle);

        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
        ctx.strokeStyle = 'gray';
        ctx.lineWidth = 1;
        ctx.stroke();

        // Add sign glyphs
        const glyphAngle = (i + 0.5) * Math.PI / 6; // Center of each sign
        const glyphX = centerX + (outerRadius + 15) * Math.cos(glyphAngle);
        const glyphY = centerY + (outerRadius + 15) * Math.sin(glyphAngle);

        ctx.fillStyle = 'black';
        ctx.font = '18px Arial';
        ctx.textAlign = 'center';
        ctx.fillText(signGlyphs[i + 1], glyphX, glyphY);
    }

    // Draw the planets
    for (const planet in data[0]) {
        if (planet !== 'debug' && planet !== 'ayanamsa') {
            const planetData = data[0][planet];
            const angle = (planetData.fullDegree) * Math.PI / 180;
            const isRetro = planetData.isRetro === "true";

            drawPlanet(-angle, isRetro, planetData.name); // Negative angle for counter-clockwise
        }
    }
</script>

</body>
</html>